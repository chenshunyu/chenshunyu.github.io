<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<title>rmrb</title>
	<style>
		html,body {
			height: 100%;
			margin: 0;
		}
		.c {
			float: left;
			width: 160px;
		}
		.d {
			margin-left:160px;
			height:100%;
		}
		#image {
			height: 100%;
		}
		@media only screen and (-webkit-min-device-pixel-ratio: 2) {
			.c {
				float: none;
				width: auto;
			}
			.d {
				margin-left: 0;
				height: auto;
			}
			#image {
				height: auto;
				width: 100%;
			}
		}
	</style>
</head>
<script>
	let date = '2017-10-18'
	let num = '01'
	function handleChange() {
		date = document.getElementById('date').value
		num = '01'
		setUrl()
	}

	function setUrl() {
		let [ year, month, day ] = date.split('-')
		//http://data.people.com.cn/pic/101p/1992/01/1992011501.jpg
		let url = `http://data.people.com.cn/pic/101p/${year}/${month}/${year}${month}${day}${num}.jpg`
		document.getElementById('image').src = url
	}

	function prev() {
		num = String(100 + Number(num) - 1).substr(1)
		setUrl()
	}

	function next() {
		num = String(100 + Number(num) + 1).substr(1)
		setUrl()
	}

	window.onload = function() {
		setUrl()
		document.getElementById('date').value = date
	}
</script>
<body>
	<div class="c">
		<div>
			<input type="date" id="date" onchange="handleChange()">
		</div>
		<div>
			<a href="javascript:prev();">上一版</a>
			<a href="javascript:next();">下一版</a>
		</div>
	</div>
	<div class="d">
		<img src="" alt="版面" id="image">
	</div>
</body>
</html>